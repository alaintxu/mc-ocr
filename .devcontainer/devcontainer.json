{
    "name": "Python",
    "image": "registry.gitlab.com/mu-bd-ce/devcontainers/python:latest",
    // Command to run after the container is created to set up the environment.
    "postCreateCommand": "uv venv",
    "postStartCommand": "if [ -f pyproject.toml ]; then uv sync --extra dev; fi",

    "features": {
        "ghcr.io/va-h/devcontainers-features/uv:1": {},
        "ghcr.io/rocker-org/devcontainer-features/apt-packages:1": {
			// sqlite3 as we want to use SQLite databases.
			// graphviz is used to generate UML diagrams using PlantUML.
            "packages": "tesseract-ocr tesseract-ocr-spa"
        }
    },
    "customizations": {
        "vscode": {
            "settings": {
                // Path to the Python interpreter in the virtual environment.
                "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python"
            },
            "extensions": [
                "streetsidesoftware.code-spell-checker",
                "streetsidesoftware.code-spell-checker-spanish"
            ]
        }
    }
}
